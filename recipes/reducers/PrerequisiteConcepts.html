<!DOCTYPE html>
<html>
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta charset="utf-8">
<title>Prerequisite Reducer Concepts - Redux Documents</title>
<meta name="description" content="">
<meta name="author" content="">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1">
<link rel="stylesheet" href="../../assets/css/bulma.min.css">
<link rel="stylesheet" href="../../assets/css/app.css">
<!--[if lt IE 9]>
<script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
<link rel="shortcut icon" href="">
</head>
<body dir="ltr">

<nav class="columns navbar">
  <div class="column logo is-3 is-offset-1">
    <a class="is-brand" href="../../index.html">
      Redux Documents
    </a>
  </div>
</nav>

<div class="columns content">
  <div class="column is-2-desktop is-3-widescreen is-hidden-touch">
  </div>
  <div class="column article-container is-11-tablet is-8-desktop is-6-widescreen">
    <div class="breadcrumb-area"><a href="../../index.html" class="breadcrumb-item">Home</a><span class="breadcrumb-delimiter"> &gt; </span><a href="../../recipes/" class="breadcrumb-item">recipes</a><span class="breadcrumb-delimiter"> &gt; </span><a href="../../recipes/reducers/" class="breadcrumb-item">reducers</a><span class="breadcrumb-delimiter"> &gt; </span><a href="../../recipes/reducers/PrerequisiteConcepts.html" class="breadcrumb-item">Prerequisite Reducer Concepts</a></div>
    <h1 class="article-title">Prerequisite Reducer Concepts</h1>
    <div class="article">
      <p>As described in <a href="../../basics/Reducers.md" target="_blank" rel="noopener">Reducers</a>, a Redux reducer function:</p>
<ul>
<li>Should have a signature of <code>(previousState, action) =&gt; newState</code>, similar to the type of function you would pass to <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce" target="_blank" rel="noopener"><code>Array.prototype.reduce(reducer, ?initialValue)</code></a></li>
<li>Should be &quot;pure&quot;, which means it does not mutate its arguments, perform side effects like API calls or modifying values outside of the function, or call non-pure functions like <code>Date.now()</code> or <code>Math.random()</code>.  This also means that updates should be done in an <strong><em>&quot;immutable&quot;</em></strong> fashion, which means <strong>always returning new objects with the updated data</strong>, rather than directly modifying the original state tree in-place.</li>
</ul>
<blockquote>
<h5 id="note-on-immutability-side-effects-and-mutation">Note on immutability, side effects, and mutation <a class="markdownIt-Anchor" href="#note-on-immutability-side-effects-and-mutation">#</a></h5>
<p>Mutation is discouraged because it generally breaks time-travel debugging, and React Redux's <code>connect</code> function:</p>
<ul>
<li>For time traveling, the Redux DevTools expect that replaying recorded actions would output a state value, but not change anything else. <strong>Side effects like mutation or asynchronous behavior will cause time travel to alter behavior between steps, breaking the application</strong>.</li>
<li>For React Redux, <code>connect</code> checks to see if the props returned from a <code>mapStateToProps</code> function have changed in order to determine if a component needs to update.  To improve performance, <code>connect</code> takes some shortcuts that rely on the state being immutable, and uses shallow reference equality checks to detect changes. This means that <strong>changes made to objects and arrays by direct mutation will not be detected, and components will not re-render</strong>.</li>
</ul>
<p>Other side effects like generating unique IDs or timestamps in a reducer also make the code unpredictable and harder to debug and test.</p>
</blockquote>
<p>Because of these rules, it's important that the following core concepts are fully understood before moving on to other specific techniques for organizing Redux reducers:</p>
<h4 id="redux-reducer-basics">Redux Reducer Basics <a class="markdownIt-Anchor" href="#redux-reducer-basics">#</a></h4>
<p><strong>Key concepts</strong>:</p>
<ul>
<li>Thinking in terms of state and state shape</li>
<li>Delegating update responsibility by slice of state (<em>reducer composition</em>)</li>
<li>Higher order reducers</li>
<li>Defining reducer initial state</li>
</ul>
<p><strong>Reading list</strong>:</p>
<ul>
<li><a href="../../basics/Reducers.md" target="_blank" rel="noopener">Redux Docs: Reducers</a></li>
<li><a href="../ReducingBoilerplate.md" target="_blank" rel="noopener">Redux Docs: Reducing Boilerplate</a></li>
<li><a href="../ImplementingUndoHistory.md" target="_blank" rel="noopener">Redux Docs: Implementing Undo History</a></li>
<li><a href="../../api/combineReducers.md" target="_blank" rel="noopener">Redux Docs: <code>combineReducers</code></a></li>
<li><a href="http://slides.com/omnidan/hor#/" target="_blank" rel="noopener">The Power of Higher-Order Reducers</a></li>
<li><a href="http://stackoverflow.com/questions/33749759/read-stores-initial-state-in-redux-reducer" target="_blank" rel="noopener">Stack Overflow: Store initial state and <code>combineReducers</code></a></li>
<li><a href="http://stackoverflow.com/questions/35667775/state-in-redux-react-app-has-a-property-with-the-name-of-the-reducer" target="_blank" rel="noopener">Stack Overflow: State key names and <code>combineReducers</code></a></li>
</ul>
<h4 id="pure-functions-and-side-effects">Pure Functions and Side Effects <a class="markdownIt-Anchor" href="#pure-functions-and-side-effects">#</a></h4>
<p><strong>Key Concepts</strong>:</p>
<ul>
<li>Side effects</li>
<li>Pure functions</li>
<li>How to think in terms of combining functions</li>
</ul>
<p><strong>Reading List</strong>:</p>
<ul>
<li><a href="http://jaysoo.ca/2016/01/13/functional-programming-little-ideas/" target="_blank" rel="noopener">The Little Idea of Functional Programming</a></li>
<li><a href="http://web24studios.com/2015/10/understanding-programmatic-side-effects/" target="_blank" rel="noopener">Understanding Programmatic Side Effects</a></li>
<li><a href="https://youtu.be/e-5obm1G_FY" target="_blank" rel="noopener">Learning Functional Programming in Javascript</a></li>
<li><a href="https://www.sitepoint.com/an-introduction-to-reasonably-pure-functional-programming/" target="_blank" rel="noopener">An Introduction to Reasonably Pure Functional Programming</a></li>
</ul>
<h4 id="immutable-data-management">Immutable Data Management <a class="markdownIt-Anchor" href="#immutable-data-management">#</a></h4>
<p><strong>Key Concepts</strong>:</p>
<ul>
<li>Mutability vs immutability</li>
<li>Immutably updating objects and arrays safely</li>
<li>Avoiding functions and statements that mutate state</li>
</ul>
<p><strong>Reading List</strong>:</p>
<ul>
<li><a href="http://reactkungfu.com/2015/08/pros-and-cons-of-using-immutability-with-react-js/" target="_blank" rel="noopener">Pros and Cons of Using Immutability With React</a></li>
<li><a href="http://t4d.io/javascript-and-immutability/" target="_blank" rel="noopener">Javascript and Immutability</a></li>
<li><a href="http://wecodetheweb.com/2016/02/12/immutable-javascript-using-es6-and-beyond/" target="_blank" rel="noopener">Immutable Data using ES6 and Beyond</a></li>
<li><a href="https://ryanfunduk.com/articles/immutable-data-from-scratch/" target="_blank" rel="noopener">Immutable Data from Scratch</a></li>
<li><a href="../UsingObjectSpreadOperator.md" target="_blank" rel="noopener">Redux Docs: Using the Object Spread Operator</a></li>
</ul>
<h4 id="normalizing-data">Normalizing Data <a class="markdownIt-Anchor" href="#normalizing-data">#</a></h4>
<p><strong>Key Concepts</strong>:</p>
<ul>
<li>Database structure and organization</li>
<li>Splitting relational/nested data up into separate tables</li>
<li>Storing a single definition for a given item</li>
<li>Referring to items by IDs</li>
<li>Using objects keyed by item IDs as lookup tables, and arrays of IDs to track ordering</li>
<li>Associating items in relationships</li>
</ul>
<p><strong>Reading List</strong>:</p>
<ul>
<li><a href="http://www.essentialsql.com/get-ready-to-learn-sql-database-normalization-explained-in-simple-english/" target="_blank" rel="noopener">Database Normalization in Simple English</a></li>
<li><a href="https://egghead.io/lessons/javascript-redux-normalizing-the-state-shape" target="_blank" rel="noopener">Idiomatic Redux: Normalizing the State Shape</a></li>
<li><a href="https://github.com/paularmstrong/normalizr" target="_blank" rel="noopener">Normalizr Documentation</a></li>
<li><a href="https://tonyhb.gitbooks.io/redux-without-profanity/content/normalizer.html" target="_blank" rel="noopener">Redux Without Profanity: Normalizr</a></li>
<li><a href="https://medium.com/@adamrackis/querying-a-redux-store-37db8c7f3b0f" target="_blank" rel="noopener">Querying a Redux Store</a></li>
<li><a href="https://en.wikipedia.org/wiki/Associative_entity" target="_blank" rel="noopener">Wikipedia: Associative Entity</a></li>
<li><a href="http://www.tomjewett.com/dbdesign/dbdesign.php?page=manymany.php" target="_blank" rel="noopener">Database Design: Many-to-Many</a></li>
<li><a href="https://medium.com/@talkol/avoiding-accidental-complexity-when-structuring-your-app-state-6e6d22ad5e2a" target="_blank" rel="noopener">Avoiding Accidental Complexity When Structuring Your App State</a></li>
</ul>

      
    </div>
    <div  dir="ltr" class="level article-bar is-mobile">
      <div class="level-item has-text-centered">
        <a title="previous page" class="previouse-article-link" href="../../recipes/reducers/NormalizingStateShape.html"><span class="icon icon-previous" data-icon="previous"></span><span class="link-content">&laquo; Previous</span></a>
      </div>
      <div class="level-item has-text-centered">
        <a title="font size" class="link-item link-item-size">
          <span class="icon icon-size" data-icon="size"></span>
        </a>
      </div>
      <div class="level-item has-text-centered">
        <a title="table of content" class="link-item link-item-toc">
          <span class="icon icon-toc" data-icon="toc"></span>
        </a>
      </div>
      <div class="level-item has-text-centered">
        <a title="top" href="#">
          <span class="icon icon-up" data-icon="up"></span>
          <span class="link-content">⤊ Top</span>
        </a>
      </div>
      <div class="level-item has-text-centered">
        <a title="next page" class="next-article-link" href="../../recipes/reducers/RefactoringReducersExample.html"><span class="icon icon-next" data-icon="next"></span><span class="link-content">Next &raquo;</span></a>
      </div>
    </div>
  </div>
  <div class="column is-2-widescreen is-hidden">
  </div>
</div>

<div class="columns foot">
  <div class="column is-3 is-offset-9 build-by">
    Build by <a href="https://github.com/ruanyf/loppo" target="_blank">Loppo</a> 0.6.5
  </div>
</div>

<div class="book-toc notification is-warning is-hidden">
  <h3>Table of chapters &nbsp;<span class="title-close"><a class="button is-danger"> Close </a></span></h3>
  <ul class="chapter-area"><li class="chapter-item "><a href="../../introduction/index.html">introduction</a>&nbsp;<a class="first-level-collapse"><span class="icon icon-expand" data-icon="expand"></span></a></li><ul class="chapter-level-1"><li class="chapter-item "><a href="../../introduction/Motivation.html">Motivation</a></li><li class="chapter-item "><a href="../../introduction/ThreePrinciples.html">Three Principles</a></li><li class="chapter-item "><a href="../../introduction/PriorArt.html">Prior Art</a></li><li class="chapter-item "><a href="../../introduction/CoreConcepts.html">Core Concepts</a></li><li class="chapter-item "><a href="../../introduction/Ecosystem.html">Ecosystem</a></li><li class="chapter-item "><a href="../../introduction/Examples.html">Examples</a></li></ul><li class="chapter-item "><a href="../../basics/index.html">basics</a>&nbsp;<a class="first-level-collapse"><span class="icon icon-expand" data-icon="expand"></span></a></li><ul class="chapter-level-1"><li class="chapter-item "><a href="../../basics/Actions.html">Actions</a></li><li class="chapter-item "><a href="../../basics/Reducers.html">Reducers</a></li><li class="chapter-item "><a href="../../basics/Store.html">Store</a></li><li class="chapter-item "><a href="../../basics/DataFlow.html">Data Flow</a></li><li class="chapter-item "><a href="../../basics/UsageWithReact.html">Usage with React</a></li><li class="chapter-item "><a href="../../basics/ExampleTodoList.html">Example: Todo List</a></li></ul><li class="chapter-item "><a href="../../advanced/index.html">advanced</a>&nbsp;<a class="first-level-collapse"><span class="icon icon-expand" data-icon="expand"></span></a></li><ul class="chapter-level-1"><li class="chapter-item "><a href="../../advanced/AsyncActions.html">Async Actions</a></li><li class="chapter-item "><a href="../../advanced/AsyncFlow.html">Async Flow</a></li><li class="chapter-item "><a href="../../advanced/ExampleRedditAPI.html">Example: Reddit API</a></li><li class="chapter-item "><a href="../../advanced/Middleware.html">Middleware</a></li><li class="chapter-item "><a href="../../advanced/NextSteps.html">Next Steps</a></li><li class="chapter-item "><a href="../../advanced/UsageWithReactRouter.html">Usage with React Router</a></li></ul><li class="chapter-item "><a href="../../recipes/index.html">recipes</a>&nbsp;<a class="first-level-collapse"><span class="icon icon-collapse" data-icon="collapse"></span></a></li><ul class="chapter-level-1 chapter-level-1-current"><li class="chapter-item "><a href="../../recipes/ComputingDerivedData.html">Computing Derived Data</a></li><li class="chapter-item "><a href="../../recipes/ImplementingUndoHistory.html">Implementing Undo History</a></li><li class="chapter-item "><a href="../../recipes/IsolatingSubapps.html">Isolating Redux Sub-Apps</a></li><li class="chapter-item "><a href="../../recipes/MigratingToRedux.html">Migrating to Redux</a></li><li class="chapter-item "><a href="../../recipes/ReducingBoilerplate.html">Reducing Boilerplate</a></li><li class="chapter-item "><a href="../../recipes/ServerRendering.html">Server Rendering</a></li><li class="chapter-item "><a href="../../recipes/StructuringReducers.html">Structuring Reducers</a></li><li class="chapter-item "><a href="../../recipes/UsingObjectSpreadOperator.html">Using Object Spread Operator</a></li><li class="chapter-item "><a href="../../recipes/WritingTests.html">Writing Tests</a></li><li class="chapter-item "><a href="../../recipes/reducers/index.html">reducers</a></li><ul class="chapter-level-2"><li class="chapter-item "><a href="../../recipes/reducers/BasicReducerStructure.html">Basic Reducer Structure and State Shape</a></li><li class="chapter-item "><a href="../../recipes/reducers/BeyondCombineReducers.html">Beyond `combineReducers`</a></li><li class="chapter-item "><a href="../../recipes/reducers/ImmutableUpdatePatterns.html">Immutable Update Patterns</a></li><li class="chapter-item "><a href="../../recipes/reducers/InitializingState.html">Initializing State</a></li><li class="chapter-item "><a href="../../recipes/reducers/NormalizingStateShape.html">Normalizing State Shape</a></li><li class="chapter-item chapter-item-current"><a href="../../recipes/reducers/PrerequisiteConcepts.html">Prerequisite Reducer Concepts</a></li><li class="chapter-item "><a href="../../recipes/reducers/RefactoringReducersExample.html">Refactoring Reducer Logic Using Functional Decomposition and Reducer Composition</a></li><li class="chapter-item "><a href="../../recipes/reducers/ReusingReducerLogic.html">Reusing Reducer Logic</a></li><li class="chapter-item "><a href="../../recipes/reducers/SplittingReducerLogic.html">Splitting Up Reducer Logic</a></li><li class="chapter-item "><a href="../../recipes/reducers/UpdatingNormalizedData.html">Managing Normalized Data</a></li><li class="chapter-item "><a href="../../recipes/reducers/UsingCombineReducers.html">Using `combineReducers`</a></li></ul><li class="chapter-item "><a href="../../faq/index.html">faq</a>&nbsp;<a class="first-level-collapse"><span class="icon icon-expand" data-icon="expand"></span></a></li><li class="chapter-item "><a href="../../faq/Actions.html">Redux FAQ: Actions</a></li><li class="chapter-item "><a href="../../faq/CodeStructure.html">Redux FAQ: Code Structure</a></li><li class="chapter-item "><a href="../../faq/General.html">Redux FAQ: General</a></li><li class="chapter-item "><a href="../../faq/Miscellaneous.html">Redux FAQ: Miscellaneous</a></li><li class="chapter-item "><a href="../../faq/OrganizingState.html">Redux FAQ: Organizing State</a></li><li class="chapter-item "><a href="../../faq/Performance.html">Redux FAQ: Performance</a></li><li class="chapter-item "><a href="../../faq/ReactRedux.html">Redux FAQ: React Redux</a></li><li class="chapter-item "><a href="../../faq/Reducers.html">Redux FAQ: Reducers</a></li><li class="chapter-item "><a href="../../faq/StoreSetup.html">Redux FAQ: Store Setup</a></li></ul><li class="chapter-item "><a href="../../Troubleshooting.html">Troubleshooting</a></li><li class="chapter-item "><a href="../../Glossary.html">Glossary</a></li><li class="chapter-item "><a href="../../api/index.html">api</a>&nbsp;<a class="first-level-collapse"><span class="icon icon-expand" data-icon="expand"></span></a></li><ul class="chapter-level-1"><li class="chapter-item "><a href="../../api/Store.html">Store</a></li><li class="chapter-item "><a href="../../api/applyMiddleware.html">`applyMiddleware(...middlewares)`</a></li><li class="chapter-item "><a href="../../api/bindActionCreators.html">`bindActionCreators(actionCreators, dispatch)`</a></li><li class="chapter-item "><a href="../../api/combineReducers.html">`combineReducers(reducers)`</a></li><li class="chapter-item "><a href="../../api/compose.html">`compose(...functions)`</a></li><li class="chapter-item "><a href="../../api/createStore.html">`createStore(reducer, [preloadedState], [enhancer])`</a></li></ul><li class="chapter-item "><a href="../../Feedback.html">Feedback</a></li></ul>
</div>

<div class="progress-indicator"></div>

<!-- SCRIPTS -->
<script>
  var LOPPO = {};
  LOPPO.current_path = 'recipes/reducers/PrerequisiteConcepts.md';
  LOPPO.relative_root_path = '../../';
  LOPPO.article_toc = "";
</script>
<script src="../../assets/js/app.js"></script>

</body>
</html>

